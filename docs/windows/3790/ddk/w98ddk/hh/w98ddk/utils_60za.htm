<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Reference</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT></HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Windows&nbsp;98/Me:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="_pss_4596"></A>Reference</H1>

<P>The following is a quick reference list of System Debugger commands, in order of Command Type.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=11%>Command</TH>
<TH align=left width=22%>Command Type</TH>
<TH align=left width=24%>Additional Arguments</TH>
<TH align=left width=43%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=11%><B>?</B> </TD>
<TD width=22%>&nbsp;</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>print help menu</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>?</B> </TD>
<TD width=22%>&nbsp;</TD>
<TD width=24%>&lt;expr&gt; | [h|d|t|o|q|b].&lt;expr&gt; </TD>
<TD width=43%>display expression (h = hex, d or t = decimal, o or q = octal, b = binary)</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>?</B> </TD>
<TD width=22%>&nbsp;</TD>
<TD width=24%>"printf string", &lt;expr&gt;, &lt;expr&gt;,</TD>
<TD width=43%>printf command</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>BC</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[&lt;bp list&gt; | *] </TD>
<TD width=43%>clear breakpoint(s)</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>BD</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[&lt;bp list&gt; | *] </TD>
<TD width=43%>disable breakpoint(s)</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>BE</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[&lt;bp list&gt; | *] </TD>
<TD width=43%>enable breakpoint(s)</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>BL</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>list breakpoint(s)</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>BP</B></TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[&lt;bp&gt;] [&lt;addr&gt;] [&lt;passcnt&gt;] ["&lt;bp cmds&gt;"] </TD>
<TD width=43%>set a breakpoint</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>BR</B></TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[&lt;bp&gt;] E|W|R|1|2|4 [&lt;addr&gt;] [&lt;passcnt&gt;] ["&lt;bp cmds&gt;"] </TD>
<TD width=43%>set a Pentium processor debug register (hardware breakpoint).</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>C</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;range&gt; &lt;addr&gt; </TD>
<TD width=43%>compare bytes</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>D</B></TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump memory</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DA</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump asciiz string</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DB</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump memory in bytes</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DD</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump memory in dwords</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DG[A]</B> </TD>
<TD width=22%>80386 Data Structure</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump GDT entries</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DI[A] </B></TD>
<TD width=22%>80386 Data Structure</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump IDT entries</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DL[A|P|S|H]</B> </TD>
<TD width=22%>80386 Data Structure</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump LDT entries</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DP[A|D]</B> </TD>
<TD width=22%>80386 Data Structure</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump page directory/table entries</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DT</B> </TD>
<TD width=22%>80386 Data Structure</TD>
<TD width=24%>[&lt;addr&gt;] </TD>
<TD width=43%>dump TSS</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DW</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>dump memory in words</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>DX</B> </TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>dump contents of loadall buffer</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>E</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;addr&gt; [&lt;list&gt;] </TD>
<TD width=43%>enter memory</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>F</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;range&gt; &lt;list&gt; </TD>
<TD width=43%>fill  memory</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>G[S|H||T|Z]</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[=&lt;addr&gt; [&lt;addr&gt; ...]] </TD>
<TD width=43%>go</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>H</B> </TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&lt;word&gt; &lt;word&gt; </TD>
<TD width=43%>hexadd</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>I</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;word&gt; </TD>
<TD width=43%>input a byte from port</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>ID</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;word&gt; </TD>
<TD width=43%>input a dword from port</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>IW</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;word&gt; </TD>
<TD width=43%>input a word from port</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>J</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>&lt;expr&gt; [&lt;cmds&gt;] </TD>
<TD width=43%>execute &lt;cmds&gt; if &lt;expr&gt; is true (non-zero)</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>K[V|S|B]</B> </TD>
<TD width=22%>Disassemble / Stack Trace</TD>
<TD width=24%>[&lt;SS:BPaddr&gt;] [&lt;CS:IPaddr&gt;] </TD>
<TD width=43%>stack trace</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>K[V|S|B]T</B> </TD>
<TD width=22%>Disassemble / Stack Trace</TD>
<TD width=24%>[TDB] </TD>
<TD width=43%>task stack trace</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>KA</B> </TD>
<TD width=22%>Disassemble / Stack Trace</TD>
<TD width=24%>&lt;numargs&gt; </TD>
<TD width=43%>set number of stack dump arguments</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>LA</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>[&lt;mapname&gt;] </TD>
<TD width=43%>list absolute symbols in active maps</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>LG</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>[&lt;mapname&gt;] </TD>
<TD width=43%>list groups in active maps</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>LM</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>list linked and active maps</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>LN</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>[&lt;addr&gt;] </TD>
<TD width=43%>list near symbols</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>LS</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>[&lt;addr&gt;] </TD>
<TD width=43%>list symbols in group</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>LSE</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>&lt;re&gt; </TD>
<TD width=43%>list symbols specified by regular expression</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>M</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;range&gt; &lt;addr&gt; </TD>
<TD width=43%>move</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>O</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;word&gt; &lt;byte&gt; </TD>
<TD width=43%>output a byte to port</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>OD</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;word&gt; &lt;dword&gt; </TD>
<TD width=43%>output a dword to port</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>OW</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;word&gt; &lt;word&gt; </TD>
<TD width=43%>output a word to port</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>P[N|T|Z]</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[=&lt;addr&gt;] [&lt;word&gt;] </TD>
<TD width=43%>program step</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>R[T]|[&lt;reg&gt;]</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>[[=] &lt;word&gt;] </TD>
<TD width=43%>Register
<P>The values used in the R cmd for changing the flags register are:</P>

<P><B>FLAG</B>        <B>SET</B>        <B>CLEAR</B></P>

<P>OverFlow   OV             NV</P>

<P>Direction     DN(Decr.)  UP(Incr)</P>

<P>Interrupt      EI(Enabled) DI(Disabled)</P>

<P>Sign            NG(Neg)    PL(Plus)</P>

<P>Zero            ZR               NZ</P>

<P>Aux Carry    AC              NA</P>

<P>Parity           PE (Even)   PO(Odd)</P>

<P>Carry            CY             NC</P>

<P>Nested Task NT (toggles)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>S</B> </TD>
<TD width=22%>Register, Memory, Port</TD>
<TD width=24%>&lt;range&gt; &lt;list&gt; </TD>
<TD width=43%>search</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>T[A|C|N|S|X|Z]</B> </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>[=&lt;addr&gt;] [&lt;word&gt;] [&lt;addr&gt;] </TD>
<TD width=43%>trace</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>U</B> </TD>
<TD width=22%>Disassemble / Stack Trace</TD>
<TD width=24%>[&lt;range&gt;] </TD>
<TD width=43%>unassemble</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>V</B></TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>Display debugger version/date</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>V[1 | 3]</B> </TD>
<TD width=22%>Interrupt Vector</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>specify rings to intercept a trap vector</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>V2</B> </TD>
<TD width=22%>&nbsp;</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>enable/disable NMI trapping in Ring 0</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>VC[N|P|V|R|F]</B> </TD>
<TD width=22%>Interrupt Vector</TD>
<TD width=24%>&lt;byte&gt; ... </TD>
<TD width=43%>stop intercepting trap vector</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>VL[N|P|V|R|F]</B> </TD>
<TD width=22%>Interrupt Vector</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>list trap vectors intercepted</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>VO [N|P|R|V]</B></TD>
<TD width=22%>Interrupt Vector</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>lists interrupt vectors in the display format based on the <B>newvec</B> option. </TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>VS[N|P|V|R|F]</B> </TD>
<TD width=22%>Interrupt Vector</TD>
<TD width=24%>&lt;byte&gt; ... </TD>
<TD width=43%>intercept trap vector, ring 3 only</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>VT[N|P|V|R|F]</B> </TD>
<TD width=22%>Interrupt Vector</TD>
<TD width=24%>&lt;byte&gt; ... </TD>
<TD width=43%>intercept trap vector, all rings</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>W</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>[&lt;map name&gt;] </TD>
<TD width=43%>make named map active</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>WA</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>[&lt;mapname&gt; | *] </TD>
<TD width=43%>add a map to the active list</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>WR</B> </TD>
<TD width=22%>Symbol, Symbol Map</TD>
<TD width=24%>[&lt;mapname&gt; | *] </TD>
<TD width=43%>remove a map from the active list</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>X</B></TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>Dumps a listing of the current execution environment (Bug report info).</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>Y[?]</B> </TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>display/modify debugger options</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>Z</B>  </TD>
<TD width=22%>Breakpoint/Step</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>zap the previous INT 1 or the current INT 3 with NOP's</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>ZD</B> </TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>execute the default command</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>ZL</B> </TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>list the default command</TD>
</TR>

<TR VALIGN="top">
<TD width=11%><B>ZS</B> </TD>
<TD width=22%>Miscellaneous</TD>
<TD width=24%>&nbsp;</TD>
<TD width=43%>set the default command</TD>
</TR>
</TABLE><BR>

<P><B>Dot commands</B></P>

<P>Dot commands are commands that are directed to the debugger entry point of a corresponding VxD. “System dot commands” are those commands that are always available There are dot commands for several debug binary VxDs. The “Required debug binary .VxD” column indicates the debug binary that must be loaded to use the corresponding dot command(s). Many of the following debugger dot commands first require the installation of their corresponding debug binary VXD version. The following system dot commands are applicable to Windows 95 Version B (OSR2), but are generally the same for Golden Windows 95.</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=15%>Command</TH>
<TH align=left width=17%>Additional Argument(s)</TH>
<TH align=left width=13%>Required debug binary .VxD</TH>
<TH align=left width=55%>Description</TH>
</TR>

<TR VALIGN="top">
<TD width=15%>..&lt;cmd&gt; </TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>-</TD>
<TD width=55%>Pass "cmd" directly to the VMM</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.? </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Prints help message</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.&lt;dev_name&gt; </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>-</TD>
<TD width=55%>Display device (VxD) specific info (if supported by the VxD)</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.B </B></TD>
<TD width=17%>&lt;baud rate&gt; [&lt;port addr&gt;] </TD>
<TD width=13%>(system)</TD>
<TD width=55%>Set COM baud rate/port addr (1 = COM1, 2 = COM2)</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>..BIOS</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>BIOS</TD>
<TD width=55%>BIOS (space for help)?  
<P>a Show all BIOS devnodes</P>

<P>e Dump recent BIOS events</P>

<P>l Show List (Show every PCI devnode)</P>

<P>s Show selected devnode</P>

<P>y Select devnode</P>

<P>z Select devnode by index</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.CSP </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>VMM</TD>
<TD width=55%>Toggles catch stray pointer flag</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DF </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dumps the free list</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DG </B></TD>
<TD width=17%>[handle | selector | arena(386)]</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dumps the global heap</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DH </B></TD>
<TD width=17%>[0 (from top) | -1 (from bottom)] </TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dumps the local heap</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DM </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dumps the Win16 module list</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DOSMGR</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>-</TD>
<TD width=55%>Dumps various data structures related to real-mode DOS.  
<P>[1] Display SFTs</P>

<P>[2] Display DPBs</P>

<P>[3] Display MCBs (dump the real-mode memory</P>

<P>map)</P>

<P>[4] Display CDSs</P>

<P>[5] Display PDBs (dump the real-mode process</P>

<P>map)</P>

<P>[6] Display DEVs</P>

<P>[7] Display BDSs</P>

<P>[8] Display INT 21h status</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DQ </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dumps the task queue</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DS </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dumps protected mode stack with labels. Dumps the VMM stack. Shows the stack pointer value, the DWORD contents and tries to display a code label that is near to each DWORD value. The label dump is sometimes useful for determining what chain of procedures have been executed to get to the current point, but it sometimes displays labels for DWORD values that really don't apply (i.e. 80000028 might display VMM_TEXT:DEBUG_ValidateLinear, when the value may really be from pushing the segment value 28, because pushing a segment value just decrements ESP and doesn't force a zero word for the high word.) So, this command can be useful, but requires some programmer interpretation to identify the correct stack trace.</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.DU </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dumps the LRU list</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.I?</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>IOS</TD>
<TD width=55%>Help menu for IOS commands</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.IDCB</B></TD>
<TD width=17%>&lt;addr&gt;</TD>
<TD width=13%>IOS</TD>
<TD width=55%>Dumps I/O Subsystem Device Control Block structure.  </TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.IIOP </B></TD>
<TD width=17%>&lt;addr&gt;</TD>
<TD width=13%>IOS</TD>
<TD width=55%>Dumps I/O Subsystem I/O Packet structure.  </TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.IMED</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>IOS</TD>
<TD width=55%>Dumps I/O Subsystem Memory Element Descriptor structures. </TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.IDV</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>DISKVSD &amp; IOS</TD>
<TD width=55%>Display disk calldown/callup statistics</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.ISAPNP</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>ISAPNP</TD>
<TD width=55%>Display current read data port, followed by information about each ISA bus card (if any).</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.LQ </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>VMM</TD>
<TD width=55%>Displays the queue of messages queued with the macro Queue_Out. </TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.M </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Dump assorted memory manager structures. Type '.M?' for a list of memory structures, and additional information.  </TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.MEMCHECK</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>-</TD>
<TD width=55%>Display misc. memory layout</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.NTKERN</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>NTKERN</TD>
<TD width=55%>OSR 2.1 &amp; Windows® 98 WDM (USB etc.) support. Typing this command supplies you with a menu, which includes the ability to dump its debug log (“D”). The debug log displays in LIFO order.</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.P</B></TD>
<TD width=17%>[?]</TD>
<TD width=13%>DEBUGCMD</TD>
<TD width=55%>Debugger tools when DEBUGCMD.VXD is installed (rename DEBUGCMD.TMP to DEBUGCMD.VXD, place it into \WINDOWS\SYSTEM, and load it by putting DEVICE=DEBUGCMD.VXD in the [386Enh] section of the SYSTEM.INI file):
<P>.p?        Main help menu</P>

<P>.p&lt;cmd&gt;?    For more extensive help on a cmd</P>

<P>.p        lists threads in system</P>

<P>.p &lt;*/thread id&gt; lists status of one thread</P>

<P>.pf        lists threads and their flags</P>

<P>.ps &lt;Thread handle/id&gt;    Dumps ring 0 stack with         labels</P>

<P>.psx &lt;Thread handle/id&gt; Dumps 20 lines of ring0         stack and returns</P>

<P>.pdev &lt;Address&gt; Finds nearest VXD name</P>

<P>.plog &lt;flags&gt;    Set scheduler query logging             flags</P>

<P>.pmtx &lt;Mutex Address&gt;    display mutex state</P>

<P>.psem &lt;Semaphore Address&gt; display semaphore             state</P>

<P>.pthcb &lt;Thread handle/id&gt; display thread             control block</P>

<P>.pprd        Disables the logging of priority         changes</P>

<P>.ppre        Enables the logging of priority         changes</P>

<P>.pprf &lt;filter&gt;    Logs only boosts changing these         bits</P>

<P>.pprl &lt;Thread handle/id&gt; Lists priority changes         recorded</P>

<P>.pmax    Show thread and VM maximum DOS386 stack         usage</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.PCI</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>PCI</TD>
<TD width=55%>PCI debug utility. Note that to use <B>.PCI</B> you must remove debugcmd.vxd from the system because its <B>.P</B> command prevents <B>.PCI</B> from being recognized.
<P>“Welcome to PCI's debugger”</P>

<P>A  show All; Show every PCI devnodes</P>

<P>B  show Busses; Show PCI bus structure</P>

<P>C  Config space; Toggle full/partial   config space</P>

<P>D  Enter dwdata; Enter data in config   space in dwords</P>

<P>E  Enter data; Enter data in config space</P>

<P>F  FindIRQRoute; Help find the IRQ routing</P>

<P>G  Global info; Show global PCI info</P>

<P>I  IDE Test; See if secondary IDE is    enabled</P>

<P>L  show List; Show every PCI devnodes  (short)</P>

<P>Q  Quit; Quit the debugger</P>

<P>R  show Rom; Show ROM of selected devnode</P>

<P>S  Show selected; Show selected devnode</P>

<P>T  Trace CS; Trace config space access</P>

<P>Y  select devnode; Select DevNode</P>

<P>Z  select devnode; Select DevNode by index</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.R </B></TD>
<TD width=17%>[#] </TD>
<TD width=13%>-</TD>
<TD width=55%>Displays the registers of the current thread.  For example, if you used &lt;ctrl c&gt; to break into the system, this will show you the debugger’s &lt;ctrl c&gt; handler.</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.REBOOT </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>reboots machine</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.S  </B></TD>
<TD width=17%>[#]</TD>
<TD width=13%>VMM</TD>
<TD width=55%>Displays short logged exceptions starting at #, if specified.</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.SL </B></TD>
<TD width=17%>[#]</TD>
<TD width=13%>VMM</TD>
<TD width=55%>Displays long logged exceptions just #, if specified. </TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.T  </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>VMM</TD>
<TD width=55%>Toggles the trace switch. </TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VC </B></TD>
<TD width=17%>[#] ------ </TD>
<TD width=13%>(system)</TD>
<TD width=55%>Displays the current VMs control block</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VDMAD</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>VDMAD</TD>
<TD width=55%>Virtual DMA Device State Dump</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VDD</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>VDD</TD>
<TD width=55%>Virtual Display Device State Dump.  Also offers additional options:
<P>Select Option</P>

<P>1 - display VM register states</P>

<P>2 - display VM memory usage</P>

<P>3 - dump video page info</P>

<P>4 - display msg mode register state</P>

<P>5 - display planar mode register state</P>

<P>6 - read DAC</P>

<P>7 - display VM DAC states</P>

<P>8 - enable Queue_Outs</P>

<P>9 - enable MemC debug event</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VFLATD</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>VFLATD</TD>
<TD width=55%>Virtual Flat Video Buffer Device statistics and event log</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VH </B></TD>
<TD width=17%>[#] ------ </TD>
<TD width=13%>(system)</TD>
<TD width=55%>Displays a VMM linked list, given list handle</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VKD</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>VKD</TD>
<TD width=55%>Virtual Keyboard Device
<P>[0]   - General info</P>

<P>[1]   - Hot Key info</P>

<P>[2]   - Per VM info</P>

<P>[3]   - Set VKD queue_outs</P>

<P>[ESC]  - Exit VKD debug query</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VL </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Displays a list of all valid VM handles</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VM </B></TD>
<TD width=17%>[#] ------ </TD>
<TD width=13%>(system)</TD>
<TD width=55%>Displays complete VM status</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VMM </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>(system)</TD>
<TD width=55%>Menu VMM state information:
<P>[A]  System time</P>

<P>[B]  Display Critical Section info</P>

<P>[C]  Display blocked thread information</P>

<P>[D]  Reset dyna-link profile counts</P>

<P>[E]  I/O port trap information</P>

<P>[F]  Reset I/O profile counts</P>

<P>[G]  Turn procedure call trace logging on  </P>

<P>[H]  V86 interrupt hook information</P>

<P>[I]  PM interrupt hook information</P>

<P>[J]  Reset PM and V86 interrupt profile counts</P>

<P>[K]  Display event lists</P>

<P>[L]  Display device list (all VxDs)</P>

<P>[M]  Display V86 break points</P>

<P>[N]  Display PM break points</P>

<P>[O]  Display interrupt profile</P>

<P>[P]  Reset interrupt profile counts</P>

<P>[Q]  Display GP fault profile</P>

<P>[R]  Reset GP fault profile counts</P>

<P>[S]  Toggle verbose device call trace</P>

<P>[T]  Dyna-link service profile information</P>

<P>[U]  Fault Hook information</P>

<P>[V]  Display time out queues</P>

<P>[W]  PM CLI/STI trace info</P>

<P>[X]  DPMI info</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VPICD </B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>-</TD>
<TD width=55%>Virtual PIC Device status (status of hardware interrupts)
<P>[1] Global PIC information (ring 0)</P>

<P>[2] Per-VM PIC information (virtualized VM state)</P>

<P>[3] IRQ handler information (hardware interrupts and who is responsible for each)</P>
</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VR </B></TD>
<TD width=17%>[#] ------ </TD>
<TD width=13%>(system)</TD>
<TD width=55%>Displays the registers of the current VM (both the current and alternate registers).  Used to examine both V86 mode and protected mode portions of the VM.</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VS </B></TD>
<TD width=17%>[#] ------ </TD>
<TD width=13%>(system)</TD>
<TD width=55%>Displays the current VM's virtual mode stack</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.VXDLDR</B></TD>
<TD width=17%>&nbsp;</TD>
<TD width=13%>-</TD>
<TD width=55%>Displays the list of dynamically loaded devices</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><B>.Y </B></TD>
<TD width=17%>&lt;expr&gt; </TD>
<TD width=13%>CONFIGMG</TD>
<TD width=55%>Displays CONFIGMG (Plug &amp; Play) structures:
<P>Welcome to CONFIGMG's debugger</P>

<P>A Arbitrators    Show the list of arbitrators</P>

<P>B Block queue    Prevent processing of events</P>

<P>C Query remove   Query removal at happy time</P>

<P>d remove         Removal at happy time</P>

<P>e toggle Echo    Set the echo to a specified</P>

<P>level</P>

<P>f show Free      Show free resources</P>

<P>g enumerate      Enumerate a devnode</P>

<P>h Reenable Appy  Reenable checking of query</P>

<P>remove</P>

<P>i Show Log       Show procedural logs</P>

<P>j test walks     Test our walk procedures</P>

<P>k Show stack     Show stack of procedure logs</P>

<P>l show List      Show devnode list</P>

<P>m screen size    Set screen size</P>

<P>n Nuke logs      Nuke the procedure logged</P>

<P>p Problem        List devnodes with problems</P>

<P>q Quit           Quit the debugger</P>

<P>r show Range     Show a Range</P>

<P>s Show tree      Show the hardware tree</P>

<P>t toggle time    Toggle the display of time</P>

<P>u Unblock queue  Restart processing of events</P>

<P>v View status    View the global status of</P>

<P>CONFIGMG</P>

<P>w show all range Show all the rangelists</P>

<P>x eXclude        Filter logging of procedure</P>

<P>logs</P>

<P>y force smthng   Call some random HWProfile API</P>

<P>z Allow DLL call Allow the DLLs to be called</P>
</TD>
</TR>
</TABLE><BR>

<P>Where…</P>

<P>&lt;range&gt; = [&lt;addr&gt;] [&lt;word&gt;] | &lt;addr&gt; [L &lt;word&gt;]</P>

<P>&lt;addr&gt; = [&amp; | #][&lt;word&gt;:]&lt;word&gt; | %&lt;dword&gt; | %%&lt;dword&gt;</P>

<P>&lt;list&gt; = &lt;byte&gt; &lt;byte&gt; ... | "string"</P>

<P>&lt;binary ops&gt; = : | * / MOD + . - &lt;&lt; &gt;&gt; &lt; &gt; &gt;= &lt;= AND XOR OR &amp;&amp; ||</P>

<P>&lt;unary ops&gt; = &amp;seg #sel %lin %%phy ! NOT SEG OFF BY WO DW POI PORT WPORT</P>

<P>(OFF=offset, BY=byte, WO=word/16-bit near proc, DW=dword/32-bit proc, POI=16-bit FAR addr, PORT=I/O byte port, WPORT=I/O word port)</P>

<P>Regular expressions &lt;re&gt;:</P>

<P>. any character, [] character class, [a-z], [^a], etc</P>

<P>* match zero or more, # match zero or one, + match one or more</P>

<P>Supported printf format characters are:</P>

<PRE>   %%                                             %
   %c                                             character
   %[-][+][ ][0][width][.precision][p][n]d        decimal
   %[-][0][width][.precision][p][n]u              unsigned decimal
   %[-][#][0][width][.precision][p][n]x           hex
   %[-][#][0][width][.precision][p][n]X           hex
   %[-][0][width][.precision][p][n]o              octal
   %[-][0][width][.precision][p][n]b              binary
   %[-][width][.precision][a]s                    string
   %[-][width][.precision][a][p][n][L][H][N][Z]A  address
   %[-][width][.precision][a][p][n][L][H][N][Z]S  symbol
   %[-][width][.precision][a][p][n][L][H][N][Z]G  group:symbol
   %[-][width][.precision][a][p][n][L][H][N][Z]M  map:group:symbol
   %[-][width][.precision][a][p][n][L][H][N][Z]g  group
   %[-][width][.precision][a][p][n][L][H][N][Z]m  map
     a - pointer to a AddrS structure
     H - 16 bit offset
     L - 32 bit offset
     N - offset only
     Z - no address
     p - gets the previous symbol, address or offset
     n - gets the next symbol, address or offset
 

Prompts are:  &gt; real mode
              - or -- virtual 8086 mode
              # or ## protected mode
 </PRE>

<P>COMMON SELECTOR VALUES:</P>

<TABLE>

<TR VALIGN="top">
<TH align=left width=13%>CS</TH>
<TH align=left width=29%>Area</TH>
<TH align=left width=15%>CS</TH>
<TH align=left width=43%>Area</TH>
</TR>

<TR VALIGN="top">
<TD width=13%>0028</TD>
<TD width=29%>VxD code (ring 0) </TD>
<TD width=15%>013F</TD>
<TD width=43%>Win32 flat code </TD>
</TR>

<TR VALIGN="top">
<TD width=13%>0030</TD>
<TD width=29%>VxD data (ring 0) </TD>
<TD width=15%>0147</TD>
<TD width=43%>Win32 flat data </TD>
</TR>

<TR VALIGN="top">
<TD width=13%>0048</TD>
<TD width=29%>debugger code </TD>
<TD width=15%>011F</TD>
<TD width=43%>Krnl386 code </TD>
</TR>

<TR VALIGN="top">
<TD width=13%>&nbsp;</TD>
<TD width=29%>&nbsp;</TD>
<TD width=15%>0137</TD>
<TD width=43%>Krnl386 data </TD>
</TR>
</TABLE><BR>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: Reference"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
