<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML DIR="LTR"><HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>DIJOYTYPEINFO</TITLE>
<SCRIPT SRC="../scripts/linkcss.js"></SCRIPT><SCRIPT SRC="../scripts/langref.js"></SCRIPT><META NAME="MS-HKWD" CONTENT="DIJOYTYPEINFO">
</HEAD>
<BODY TOPMARGIN="0">

<TABLE CLASS="buttonbarshade" CELLSPACING=0><TR><TD>&nbsp;</TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING=0>
<TR ID="hdr"><TD CLASS="runninghead" NOWRAP>Interactive&nbsp;Input&nbsp;Devices:&nbsp;Windows&nbsp;DDK</TD></TR>
</TABLE>
<H1><A NAME="ddk_dijoytypeinfo_di"></A>DIJOYTYPEINFO</H1>

<P>The DIJOYTYPEINFO structure contains information about a joystick type. </P>

<PRE class=syntax>typedef struct DIJOYTYPEINFO {
  DWORD  dwSize;
  JOYREGHWSETTINGS  hws;
  CLSID  clsidConfig;
  WCHAR  wszDisplayName[MAX_JOYSTRING];
  WCHAR  wszCallout[MAX_JOYSTICKOEMVXDNAME];
  WCHAR  wszHardwareId[MAX_JOYSTRING];  // WDM Only
  DWORD  dwFlags1;
  DWORD  dwFlags2;
} DIJOYTYPEINFO, *LPDIJOYTYPEINFO;</PRE>

<H4>Members</H4>

<DL>
<DT><B>dwSize</B> </DT>

<DD>Specifies the size of the structure in bytes. This member must be initialized before the structure is used. </DD>

<DT><B>hws</B> </DT>

<DD>Joystick hardware settings. </DD>

<DT><B>clsidConfig</B> </DT>

<DD>Specifies a CLSID for the joystick type configuration object. Pass this CLSID to <B>CoCreateInstance</B> to create a configuration object. This field is zero if the type does not have custom configuration. </DD>

<DT><B>wszDisplayName[MAX_JOYSTRING]</B> </DT>

<DD>The display name for the joystick type. The display name is the name that should be used to display the name of the joystick type to the end user. </DD>

<DT><B>wszCallout[MAX_JOYSTICKOEMVXDNAME]</B> </DT>

<DD>The device responsible for handling polling for devices of this type. This is a null string if the global polling callout is to be used. </DD>

<DT><B>wszHardwareId</B></DT>

<DD>The hardware ID for the joystick type. The hardware ID is used by Plug and Play on Windows&nbsp;2000 and Windows&nbsp;98 (DirectX 7.0 only) to find the drivers for the joystick.</DD>

<DT><B>dwFlags1</B></DT>

<DD>Joystick type flags. This member can be set to a combination of the following flags.

<DL>
<DT>JOYTYPE_ZEROGAMEENUMOEMDATA</DT>

<DD>Zero GameEnum's OEM data field.</DD>

<DT>JOYTYPE_NOAUTODETECTGAMEPORT</DT>

<DD>Device does not support Autodetect gameport.</DD>

<DT>JOYTYPE_NOHIDDIRECT</DT>

<DD>Do not use HID directly for this device. (Windows 98 only.)</DD>

<DT>JOYTYPE_DEFAULTPROPSHEET</DT>

<DD>CPL overrides custom property sheet.</DD>
</DL>
</DD>

<DT><B>dwFlags2</B></DT>

<DD>Combination of device filtering, and device type/subtype override flags. Device-filtering flags should be placed in the high WORD of <B>dwFlags2</B>. Device type and subtype should be placed in the low and high WORDs of the member, respectively.

<DL>
<DT><B>Device Filtering Flags</B></DT>

<DT>JOYTYPE_DEVICEHIDE</DT>

<DD>Hide unclassified devices.</DD>

<DT>JOYTYPE_MOUSEHIDE</DT>

<DD>Hide mice.</DD>

<DT>JOYTYPE_KEYBHIDE</DT>

<DD>Hide keyboards.</DD>

<DT>JOYTYPE_GAMEHIDE</DT>

<DD>Hide game controllers.</DD>

<DT>JOYTYPE_HIDEACTIVE</DT>

<DD>Hide flags are active. This flag must be included if any other hide flags are specified.</DD>

<DT><B>Device Type and Subtype Override Flags</B></DT>
</DL>


<TABLE border=1 frame=box rules=all>

<TR VALIGN="top">
<TH align=left width=35%>Device Type</TH>
<TH align=left width=65%>Device Subtype</TH>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_1STPERSON</TD>
<TD width=65%>DI8DEVTYPE1STPERSON_LIMITED</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPE1STPERSON_UNKNOWN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPE1STPERSON_SIXDOF</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPE1STPERSON_SHOOTER</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_DEVICE</TD>
<TD width=65%><I>n/a</I></TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_DEVICECTRL</TD>
<TD width=65%>DI8DEVTYPEDEVICECTRL_UNKNOWN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEDEVICECTRL_COMMSSELECTION</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEDEVICECTRL_COMMSSELECTION_HARDWIRED</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_DRIVING</TD>
<TD width=65%>DI8DEVTYPEDRIVING_LIMITED</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEDRIVING_COMBINEDPEDALS</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEDRIVING_DUALPEDALS</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEDRIVING_THREEPEDALS</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEDRIVING_HANDHELD</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_FLIGHT</TD>
<TD width=65%>DI8DEVTYPEFLIGHT_LIMITED</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEFLIGHT_STICK</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEFLIGHT_YOKE</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEFLIGHT_RC</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_GAMEPAD</TD>
<TD width=65%>DI8DEVTYPEGAMEPAD_LIMITED</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEGAMEPAD_STANDARD</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEGAMEPAD_TILT</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_JOYSTICK</TD>
<TD width=65%>DI8DEVTYPEJOYSTICK_LIMITED</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEJOYSTICK_STANDARD</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEJOYSTICK_ENHANCED</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_KEYBOARD</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_UNKNOWN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_PCXT</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_OLIVETTI</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_PCAT</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_PCENH</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_NOKIA1050</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_NOKIA9140</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_NEC98</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_NEC98LAPTOP</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_NEC98106</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_JAPAN106</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_JAPANAX</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEKEYBOARD_J3100</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_MOUSE</TD>
<TD width=65%>DI8DEVTYPEMOUSE_UNKNOWN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEMOUSE_TRADITIONAL</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEMOUSE_FINGERSTICK</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEMOUSE_TOUCHPAD</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEMOUSE_TRACKBALL</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPEMOUSE_ABSOLUTE</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_REMOTE</TD>
<TD width=65%>DI8DEVTYPEREMOTE_UNKNOWN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_SCREENPOINTER</TD>
<TD width=65%>DI8DEVTYPESCREENPTR_UNKNOWN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESCREENPTR_LIGHTGUN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESCREENPTR_LIGHTPEN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESCREENPTR_TOUCH</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>DI8DEVTYPE_SUPPLEMENTAL</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_UNKNOWN</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_2NDHANDCONTROLLER</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_HEADTRACKER</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_HANDTRACKER</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_SHIFTSTICKGATE</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_SHIFTER</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_THROTTLE</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_SPLITTHROTTLE</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_COMBINEDPEDALS</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_DUALPEDALS</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_THREEPEDALS</TD>
</TR>

<TR VALIGN="top">
<TD width=35%>&nbsp;</TD>
<TD width=65%>DI8DEVTYPESUPPLEMENTAL_RUDDERPEDALS</TD>
</TR>
</TABLE><BR>

</DD>
</DL>

<H4>Comments</H4>

<P>A "joystick type" describes how DirectInput should communicate with the device and how it should report device data. For example, "A Frobozz Industries SuperStick 5X is a three-axis, five-button joystick with the third axis reported as the first bit on the second port." </P>

<P>DirectInput comes with the following predefined joystick types, all with axes in their default locations. 

<UL>
	<LI>Two-axis, two-button joystick. </LI>

	<LI>Two-button game pad. </LI>

	<LI>Two-button flight yoke. </LI>

	<LI>Two-button flight yoke with throttle. </LI>

	<LI>Three-axis, two-button joystick. </LI>

	<LI>Three-axis, four-button joystick. </LI>

	<LI>Four-button game pad. </LI>

	<LI>Four-button flight yoke. </LI>

	<LI>Four-button flight yoke with throttle. </LI>
</UL>

<P>If the joystick type has the JOY_HWS_ISGAMEPORTDRIVER flag set in the <B>dwFlags</B> member of the JOYHWSETTINGS structure, then the <B>wszCallout</B> member of the DIJOYTYPEINFO structure contains the name of a driver that can be used as a global driver. The joystick type should be shown on the list of global drivers and not shown on the list of joystick types that can be assigned. </P>

<H4>New in DirectX 8.0</H4>

<P>The <B>dwFlags2</B> member was added to the DIJOYCONFIG structure. This member carries information that controls how DirectInput enumerates the device to applications. The <B>dwFlags2</B> member carries device type and subtype override flags in the low word, and device enumeration “hiding” flags in the high word. The device type and subtype override flags control how DirectInput portrays your device to applications that use DirectInput. These are the same flags that applications receive from DirectInput during device enumeration. For example, if your device is described in its firmware as a telephony device, it would not normally be enumerated to games because telephony devices aren’t considered relevant to games. However, if you used the DI8DEVTYPE_DEVICECONTROL and DI8DEVTYPE_DEVICECONTROL_COMMSELECTION to describe this device, DirectInput overrides the data it retrieves from the firmware and enumerates the device to games.</P>

<P>The high word of <B>dwFlags2</B> can be set to contain flags that scope how DirectInput enumerates the device to DirectInput applications. For example, some devices declare multiple top-level HID collections. Such a device might declare that it can act as a keyboard, a mouse, and a joystick all in one. Generally, one or more of these top-level collections is merely a phantom device, which shouldn’t be enumerated to games. For this device, the high word of <B>dwFlags2</B> could be set to a combination of the JOYTYPE_HIDEACTIVE, JOYTYPE_MOUSEHIDE, and JOYTYPE_KEYBHIDE flags. The JOYTYPE_HIDEACTIVE flag indicates that DirectInput should not enumerate the device by all its types. The JOYTYPE_MOUSEHIDE and JOYTYPE_KEYBHIDE flags also present in the high word indicate to DirectInput that enumeration of the phantom mouse and keyboard on the device should be suppressed. Note that applications can include the DIEDFL_INCLUDEHIDDEN flag to enumerate devices, even if they are hidden. </P>
<DIV CLASS="footer"><A HREF="mailto:ddksurv1@microsoft.com?subject=DDK Topic Feedback&body=Build date: Thursday, January 16, 2003     Topic Title: DIJOYTYPEINFO"> Send feedback on this topic.</A> / Built on Thursday, January 16, 2003 </DIV>
</BODY>
</HTML>
